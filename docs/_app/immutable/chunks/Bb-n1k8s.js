import{o as x,p as G,y as H,q as m,v as J,U as $,g as Y,Z as y,W as j,X as ee,Y as U,x as k,z as R,C as re,_ as ne,a0 as V,K as ae,a1 as A,Q as F,T as fe,a2 as X,m as ie,a3 as q,a4 as le,a5 as se,a6 as ue,a7 as te,M as K,P,a8 as z,w as oe,a9 as ve,O as de,aa as Q,D as ce,ab as pe}from"./B4-q2MT9.js";function Te(e,n){return n}function he(e,n,a){for(var t=[],_=n.length,u,s=n.length,o=0;o<_;o++){let g=n[o];P(g,()=>{if(u){if(u.pending.delete(g),u.done.add(g),u.pending.size===0){var v=e.outrogroups;L(q(u.done)),v.delete(u),v.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var i=t.length===0&&a!==null;if(i){var d=a,f=d.parentNode;ve(f),f.append(d),e.items.clear()}L(n,!i)}else u={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(u)}function L(e,n=!0){for(var a=0;a<e.length;a++)de(e[a],n)}var B;function me(e,n,a,t,_,u=null){var s=e,o=new Map,i=(n&Q)!==0;if(i){var d=e;s=m?H(J(d)):d.appendChild(x())}m&&$();var f=null,g=y(()=>{var l=a();return le(l)?l:l==null?[]:q(l)}),v,p=!0;function N(){r.fallback=f,_e(r,v,s,n,t),f!==null&&(v.length===0?(f.f&A)===0?K(f):(f.f^=A,O(f,null,s)):P(f,()=>{f=null}))}var I=G(()=>{v=Y(g);var l=v.length;let S=!1;if(m){var b=j(s)===ee;b!==(l===0)&&(s=U(),H(s),k(!1),S=!0)}for(var E=new Set,C=ae,M=fe(),h=0;h<l;h+=1){m&&R.nodeType===re&&R.data===ne&&(s=R,S=!0,k(!1));var w=v[h],D=t(w,h),c=p?null:o.get(D);c?(c.v&&V(c.v,w),c.i&&V(c.i,h),M&&C.skipped_effects.delete(c.e)):(c=ge(o,p?s:B??=x(),w,D,h,_,n,a),p||(c.e.f|=A),o.set(D,c)),E.add(D)}if(l===0&&u&&!f&&(p?f=F(()=>u(s)):(f=F(()=>u(B??=x())),f.f|=A)),m&&l>0&&H(U()),!p)if(M){for(const[W,Z]of o)E.has(W)||C.skipped_effects.add(Z.e);C.oncommit(N),C.ondiscard(()=>{})}else N();S&&k(!0),Y(g)}),r={effect:I,items:o,outrogroups:null,fallback:f};p=!1,m&&(s=R)}function _e(e,n,a,t,_){var u=(t&pe)!==0,s=n.length,o=e.items,i=e.effect.first,d,f=null,g,v=[],p=[],N,I,r,l;if(u)for(l=0;l<s;l+=1)N=n[l],I=_(N,l),r=o.get(I).e,(r.f&A)===0&&(r.nodes?.a?.measure(),(g??=new Set).add(r));for(l=0;l<s;l+=1){if(N=n[l],I=_(N,l),r=o.get(I).e,e.outrogroups!==null)for(const c of e.outrogroups)c.pending.delete(r),c.done.delete(r);if((r.f&A)!==0)if(r.f^=A,r===i)O(r,null,a);else{var S=f?f.next:i;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),T(e,f,r),T(e,r,S),O(r,S,a),f=r,v=[],p=[],i=f.next;continue}if((r.f&z)!==0&&(K(r),u&&(r.nodes?.a?.unfix(),(g??=new Set).delete(r))),r!==i){if(d!==void 0&&d.has(r)){if(v.length<p.length){var b=p[0],E;f=b.prev;var C=v[0],M=v[v.length-1];for(E=0;E<v.length;E+=1)O(v[E],b,a);for(E=0;E<p.length;E+=1)d.delete(p[E]);T(e,C.prev,M.next),T(e,f,C),T(e,M,b),i=b,f=M,l-=1,v=[],p=[]}else d.delete(r),O(r,i,a),T(e,r.prev,r.next),T(e,r,f===null?e.effect.first:f.next),T(e,f,r),f=r;continue}for(v=[],p=[];i!==null&&i!==r;)(d??=new Set).add(i),p.push(i),i=i.next;if(i===null)continue}(r.f&A)===0&&v.push(r),f=r,i=r.next}if(e.outrogroups!==null){for(const c of e.outrogroups)c.pending.size===0&&(L(q(c.done)),e.outrogroups?.delete(c));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||d!==void 0){var h=[];if(d!==void 0)for(r of d)(r.f&z)===0&&h.push(r);for(;i!==null;)(i.f&z)===0&&i!==e.fallback&&h.push(i),i=i.next;var w=h.length;if(w>0){var D=(t&Q)!==0&&s===0?a:null;if(u){for(l=0;l<w;l+=1)h[l].nodes?.a?.measure();for(l=0;l<w;l+=1)h[l].nodes?.a?.fix()}he(e,h,D)}}u&&ce(()=>{if(g!==void 0)for(r of g)r.nodes?.a?.apply()})}function ge(e,n,a,t,_,u,s,o){var i=(s&se)!==0?(s&ue)===0?ie(a,!1,!1):X(a):null,d=(s&te)!==0?X(_):null;return{v:i,i:d,e:F(()=>(u(n,i??a,d??_,o),()=>{e.delete(t)}))}}function O(e,n,a){if(e.nodes)for(var t=e.nodes.start,_=e.nodes.end,u=n&&(n.f&A)===0?n.nodes.start:a;t!==null;){var s=oe(t);if(u.before(t),t===_)return;t=s}}function T(e,n,a){n===null?e.effect.first=a:n.next=a,a===null?e.effect.last=n:a.prev=n}function Ee(e,n,a){var t=e==null?"":""+e;return t===""?null:t}function Ne(e,n,a,t,_,u){var s=e.__className;if(m||s!==a||s===void 0){var o=Ee(a);(!m||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):n?e.className=o:e.setAttribute("class",o)),e.__className=a}return u}export{me as e,Te as i,Ne as s};
