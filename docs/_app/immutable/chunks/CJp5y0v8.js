import{F as H,K,T as k,p as C,V as P,M as Q,g as V,W,P as Z,Q as $,R as Y,U as F,H as D,X as j,Y as ee,Z as B,B as re,_ as b,G as x,J as ne,$ as L,m as fe,a0 as y,a1 as ae,a2 as le,a3 as se,a4 as ie,C as X,E as q,a5 as O,a6 as ue,a7 as te,D as oe}from"./DJ2Boix_.js";function he(e,l){return l}function ve(e,l,a){for(var t=[],p=l.length,i,s=l.length,n=0;n<p;n++){let u=l[n];q(u,()=>{if(i){if(i.pending.delete(u),i.done.add(u),i.pending.size===0){var c=e.outrogroups;z(y(i.done)),c.delete(i),c.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var o=t.length===0&&a!==null;if(o){var f=a,v=f.parentNode;te(v),v.append(f),e.items.clear()}z(l,!o)}else i={pending:new Set(l),done:new Set},(e.outrogroups??=new Set).add(i)}function z(e,l=!0){for(var a=0;a<e.length;a++)oe(e[a],l)}var U;function _e(e,l,a,t,p,i=null){var s=e,n=new Map;{var o=e;s=C?k(P(o)):o.appendChild(H())}C&&Q();var f=null,v=W(()=>{var d=a();return ae(d)?d:d==null?[]:y(d)}),u,c=!0;function I(){_.fallback=f,ce(_,u,s,l,t),f!==null&&(u.length===0?(f.f&b)===0?X(f):(f.f^=b,S(f,null,s)):q(f,()=>{f=null}))}var r=K(()=>{u=V(v);var d=u.length;let T=!1;if(C){var h=Z(s)===$;h!==(d===0)&&(s=Y(),k(s),F(!1),T=!0)}for(var M=new Set,A=re,w=ne(),N=0;N<d;N+=1){C&&D.nodeType===j&&D.data===ee&&(s=D,T=!0,F(!1));var R=u[N],g=t(R,N),E=c?null:n.get(g);E?(E.v&&B(E.v,R),E.i&&B(E.i,N),w&&A.skipped_effects.delete(E.e)):(E=de(n,c?s:U??=H(),R,g,N,p,l,a),c||(E.e.f|=b),n.set(g,E)),M.add(g)}if(d===0&&i&&!f&&(c?f=x(()=>i(s)):(f=x(()=>i(U??=H())),f.f|=b)),C&&d>0&&k(Y()),!c)if(w){for(const[G,J]of n)M.has(G)||A.skipped_effects.add(J.e);A.oncommit(I),A.ondiscard(()=>{})}else I();T&&F(!0),V(v)}),_={effect:r,items:n,outrogroups:null,fallback:f};c=!1,C&&(s=D)}function ce(e,l,a,t,p){var i=l.length,s=e.items,n=e.effect.first,o,f=null,v=[],u=[],c,I,r,_;for(_=0;_<i;_+=1){if(c=l[_],I=p(c,_),r=s.get(I).e,e.outrogroups!==null)for(const g of e.outrogroups)g.pending.delete(r),g.done.delete(r);if((r.f&b)!==0)if(r.f^=b,r===n)S(r,null,a);else{var d=f?f.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),m(e,f,r),m(e,r,d),S(r,d,a),f=r,v=[],u=[],n=f.next;continue}if((r.f&O)!==0&&X(r),r!==n){if(o!==void 0&&o.has(r)){if(v.length<u.length){var T=u[0],h;f=T.prev;var M=v[0],A=v[v.length-1];for(h=0;h<v.length;h+=1)S(v[h],T,a);for(h=0;h<u.length;h+=1)o.delete(u[h]);m(e,M.prev,A.next),m(e,f,M),m(e,A,T),n=T,f=A,_-=1,v=[],u=[]}else o.delete(r),S(r,n,a),m(e,r.prev,r.next),m(e,r,f===null?e.effect.first:f.next),m(e,f,r),f=r;continue}for(v=[],u=[];n!==null&&n!==r;)(o??=new Set).add(n),u.push(n),n=n.next;if(n===null)continue}(r.f&b)===0&&v.push(r),f=r,n=r.next}if(e.outrogroups!==null){for(const g of e.outrogroups)g.pending.size===0&&(z(y(g.done)),e.outrogroups?.delete(g));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||o!==void 0){var w=[];if(o!==void 0)for(r of o)(r.f&O)===0&&w.push(r);for(;n!==null;)(n.f&O)===0&&n!==e.fallback&&w.push(n),n=n.next;var N=w.length;if(N>0){var R=i===0?a:null;ve(e,w,R)}}}function de(e,l,a,t,p,i,s,n){var o=(s&le)!==0?(s&se)===0?fe(a,!1,!1):L(a):null,f=(s&ie)!==0?L(p):null;return{v:o,i:f,e:x(()=>(i(l,o??a,f??p,n),()=>{e.delete(t)}))}}function S(e,l,a){if(e.nodes)for(var t=e.nodes.start,p=e.nodes.end,i=l&&(l.f&b)===0?l.nodes.start:a;t!==null;){var s=ue(t);if(i.before(t),t===p)return;t=s}}function m(e,l,a){l===null?e.effect.first=a:l.next=a,a===null?e.effect.last=l:a.prev=l}function pe(e,l,a){var t=e==null?"":""+e;return t===""?null:t}function Ee(e,l,a,t,p,i){var s=e.__className;if(C||s!==a||s===void 0){var n=pe(a);(!C||n!==e.getAttribute("class"))&&(n==null?e.removeAttribute("class"):l?e.className=n:e.setAttribute("class",n)),e.__className=a}return i}export{_e as e,he as i,Ee as s};
